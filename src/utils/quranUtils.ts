export async function getPageMetadata(pageNumber: number) {
  return {
    page: pageNumber,
    surah: pageNumber <= 2 ? 1 : Math.min(Math.floor(pageNumber / 20) + 1, 114),
    surahName: getSurahName(pageNumber <= 2 ? 1 : Math.min(Math.floor(pageNumber / 20) + 1, 114)),
    lines: generateMockLines(pageNumber),
    startVerse: { surah: 1, ayah: 1 },
    endVerse: { surah: 1, ayah: 7 },
  };
}

function getSurahName(surahNumber: number) {
  const surahNames = [
    "Al-Fatihah",
    "Al-Baqarah",
    "Ali 'Imran",
    "An-Nisa",
    "Al-Ma'idah",
    "Al-An'am",
    "Al-A'raf",
    "Al-Anfal",
    "At-Tawbah",
    "Yunus",
  ];

  return surahNames[Math.min(surahNumber - 1, surahNames.length - 1)];
}

function generateMockLines(pageNumber: number) {
  // from the provided resources

  const lines = [];
  const linesPerPage = 15;

  for (let i = 0; i < linesPerPage; i++) {
    lines.push({
      lineNumber: i + 1,
      text: getArabicTextForLine(pageNumber, i + 1),
      verses: [
        {
          surah: pageNumber <= 2 ? 1 : Math.min(Math.floor(pageNumber / 20) + 1, 114),
          ayah: i + 1,
        },
      ],
    });
  }

  return lines;
}

function getArabicTextForLine(pageNumber: number, lineNumber: number) {

  const arabicTexts = [
    "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
    "الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",
    "الرَّحْمَٰنِ الرَّحِيمِ",
    "مَالِكِ يَوْمِ الدِّينِ",
    "إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ",
    "اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ",
    "صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ",
    "الم",
    "ذَٰلِكَ الْكِتَابُ لَا رَيْبَ ۛ فِيهِ ۛ هُدًى لِّلْمُتَّقِينَ",
    "الَّذِينَ يُؤْمِنُونَ بِالْغَيْبِ وَيُقِيمُونَ الصَّلَاةَ وَمِمَّا رَزَقْنَاهُمْ يُنفِقُونَ",
    "وَالَّذِينَ يُؤْمِنُونَ بِمَا أُنزِلَ إِلَيْكَ وَمَا أُنزِلَ مِن قَبْلِكَ وَبِالْآخِرَةِ هُمْ يُوقِنُونَ",
    "أُولَٰئِكَ عَلَىٰ هُدًى مِّن رَّبِّهِمْ ۖ وَأُولَٰئِكَ هُمُ الْمُفْلِحُونَ",
    "إِنَّ الَّذِينَ كَفَرُوا سَوَاءٌ عَلَيْهِمْ أَأَنذَرْتَهُمْ أَمْ لَمْ تُنذِرْهُمْ لَا يُؤْمِنُونَ",
    "خَتَمَ اللَّهُ عَلَىٰ قُلُوبِهِمْ وَعَلَىٰ سَمْعِهِمْ ۖ وَعَلَىٰ أَبْصَارِهِمْ غِشَاوَةٌ ۖ وَلَهُمْ عَذَابٌ عَظِيمٌ",
    "وَمِنَ النَّاسِ مَن يَقُولُ آمَنَّا بِاللَّهِ وَبِالْيَوْمِ الْآخِرِ وَمَا هُم بِمُؤْمِنِينَ",
  ];

  const index = (pageNumber * lineNumber) % arabicTexts.length;
  return arabicTexts[index];
}

